import { Tab, Tabs } from 'nextra-theme-docs'

# Stopwatch Module

## Overview

The stopwatch module allows you to control the stopwatch mod inside Lunar Client.

- Ability to fully control a player's stopwatch mod.
  - Start a player's stopwatch
  - Stop a player's stopwatch
  - Reset a player's stopwatch

![Stopwatch Module Example](https://i.imgur.com/HEX9q0H.gif#center)

<div style={{ textAlign: "center" }}>
    <small>Start, Stop, and Reset the Lunar Client stopwatch mod!</small>
</div>

## Integration

### Sample Code
Explore each integration by cycling through each tab, to find the best fit for your requirements and needs.

<Tabs items={['Apollo API', 'apollo-protos library', 'Manual JSON Object Construction']}>

<Tab>

### Start Stopwatch

```java
public void startStopwatchExample(Player viewer) {
    Optional<ApolloPlayer> apolloPlayerOpt = Apollo.getPlayerManager().getPlayer(viewer.getUniqueId());
    apolloPlayerOpt.ifPresent(this.stopwatchModule::startStopwatch);
}
```

### Stop Stopwatch

```java
public void stopStopwatchExample(Player viewer) {
    Optional<ApolloPlayer> apolloPlayerOpt = Apollo.getPlayerManager().getPlayer(viewer.getUniqueId());
    apolloPlayerOpt.ifPresent(this.stopwatchModule::stopStopwatch);
}
```

### Reset Stopwatch

```java
public void resetStopwatchExample(Player viewer) {
    Optional<ApolloPlayer> apolloPlayerOpt = Apollo.getPlayerManager().getPlayer(viewer.getUniqueId());
    apolloPlayerOpt.ifPresent(this.stopwatchModule::resetStopwatch);
}
```

</Tab>

<Tab>

**Start Stopwatch**

```java
public void startStopwatchExample(Player viewer) {
    StartStopwatchMessage message = StartStopwatchMessage.getDefaultInstance();
    ProtobufPacketUtil.sendPacket(viewer, message);
}
```

**Stop Stopwatch**

```java
public void stopStopwatchExample(Player viewer) {
    StopStopwatchMessage message = StopStopwatchMessage.getDefaultInstance();
    ProtobufPacketUtil.sendPacket(viewer, message);
}
```

**Reset Stopwatch**

```java
public void resetStopwatchExample(Player viewer) {
    ResetStopwatchMessage message = ResetStopwatchMessage.getDefaultInstance();
    ProtobufPacketUtil.sendPacket(viewer, message);
}
```

</Tab>

<Tab>

**Start Stopwatch**

```java
public void startStopwatchExample(Player viewer) {
    JsonObject message = new JsonObject();
    message.addProperty("@type", "type.googleapis.com/lunarclient.apollo.stopwatch.v1.StartStopwatchMessage");

    JsonPacketUtil.sendPacket(viewer, message);
}
```

**Stop Stopwatch**

```java
public void stopStopwatchExample(Player viewer) {
    JsonObject message = new JsonObject();
    message.addProperty("@type", "type.googleapis.com/lunarclient.apollo.stopwatch.v1.StopStopwatchMessage");

    JsonPacketUtil.sendPacket(viewer, message);
}
```

**Reset Stopwatch**

```java
public void resetStopwatchExample(Player viewer) {
    JsonObject message = new JsonObject();
    message.addProperty("@type", "type.googleapis.com/lunarclient.apollo.stopwatch.v1.ResetStopwatchMessage");

    JsonPacketUtil.sendPacket(viewer, message);
}
```

</Tab>

</Tabs>
